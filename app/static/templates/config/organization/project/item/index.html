<h1>配置项管理</h1>
<div style="height:20px"></div>
<div style="height:33px;line-height:33px;margin-bottom:20px;">
  <div style="display:inline-block;font-size:30px;">{{ item.name }}</div>
  <div class="pull-right">
    <button class="btn btn-primary" ng-click="goto_parent()">上一级</button>
  </div>
</div>
<div class="btn-group btn-group-justified" role="group">
  <div class="btn-group" role="group">
    <button ng-disabled="item.access_mode!='modifier'" type="button" class="btn btn-warning" ng-click="publish_item()">全量发布</button>
  </div>
  <div class="btn-group" role="group">
    <button ng-disabled="item.access_mode!='modifier'&&item.access_mode!='viewer'" type="button" class="btn btn-guldan-gray" ng-click="gray_item()">转到灰度发布</button>
  </div>
  <div class="btn-group" role="group">
    <button ng-disabled="item.access_mode!='modifier'" type="button" class="btn btn-primary" ng-click="version_item()">版本</button>
  </div>
  <div class="btn-group" role="group">
    <button ng-disabled="item.access_mode!='modifier'" type="button" class="btn btn-danger" ng-click="delete_item()">删除</button>
  </div>
  <div class="btn-group" role="group">
    <button ng-disabled="item.access_mode!='modifier'" type="button" class="btn btn-success" ng-click="authorize_item()">授权</button>
  </div>
  <div class="btn-group" role="group">
    <button ng-disabled="item.access_mode!='modifier'&&item.access_mode!='viewer'" type="button" class="btn btn-info" ng-click="stats_item()">状态图</button>
  </div>
</div>
<h2 style="margin-bottom:20px;">配置项属性</h2>
<table class="table table-bordered">
  <tr>
    <td>可见性</td>
    <td class="dropdown visibility">
      <a class="dropdown-toggle" data-toggle="dropdown">{{ item.visibility | visibility }}</a>
      <ul class="dropdown-menu">
        <li><a ng-click="item.visibility='public'">公开</a></li>
        <li><a ng-click="item.visibility='private'">私有</a></li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>配置项类型</td>
    <td class="dropdown visibility">
      <a class="dropdown-toggle" data-toggle="dropdown">{{ item.type | uppercase }}</a>
      <ul class="dropdown-menu">
        <li><a ng-click="item.type='Plain'">PLAIN</a></li>
        <li><a ng-click="item.type='JSON'">JSON</a></li>
        <li><a ng-click="item.type='XML'">XML</a></li>
        <li><a ng-click="item.type='YAML'">YAML</a></li>
      </ul>
    </td>
</table>
<div style="height:33px;line-height:33px;margin-bottom:20px;">
  <div style="display:inline-block;font-size:30px;font-weight:500;">配置项内容</div>
  <div class="pull-right">
    <button class="btn btn-default" ng-click="create_item_based_on_current()">基于该内容创建新配置项</button>
  </div>
</div>
<div ui-ace='{onLoad: aceLoaded, advanced: {fontSize: 14}}'></div>
<h2 style="margin-bottom:20px;">权限列表</h2>
<table class="table table-bordered">
  <thead><th>用户名</th><th>用户权限</th></thead>
  <tbody>
    <tr ng-repeat="privilege in item.privileges | orderBy : type : incr">
      <td>{{ privilege.user_name }}</td>
      <td>{{ privilege.type }}</td>
    </tr>
  </tbody>
</table>

<!-- testarea of helping clip -->
<textarea id="clipboard-content" style="display: none;"></textarea>
